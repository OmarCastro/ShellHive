<!DOCTYPE html><html><head><title>Thesis Weekly Report 3 - Omar Castro</title><meta charset="utf-8"><link rel="stylesheet" href="css/dropdowns.css"><link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" href="css/ui-layout.css"><link rel="stylesheet" href="css5/style.css"></head><body ng-app="report" style="margin:2em" ng-init="isDemo = true"><div class="center"><h1>Weekly report</h1><p>MIEIC thesis</p><p>Omar Alejandro Castillo de Castro </p><p>Week 16/02/2012 - 22/03/2012</p></div><accordion close-others="true"><accordion-group heading="Tasks done"><h2> Tasks done</h2><div class="changeList"><p>The next list shows the implementation tasks that has been done:</p><ul><li>Finish the implementation of the support of the Macro concept</li><li>Allow the commands to be run in a server</li><li>Added implementation to parse stderr redirection to visual representation.</li><li>Added implementation to parse stderr redirection and exit code in visual representation to Text.</li><li>Bug fixes and code refactoring</li><li>Research on the parse of complex commands</li></ul></div><p>I believe the solution is ready to be considered as an alpha version</p><p><a href="demo2.html">Here's the demo of the current solution</a></p></accordion-group><accordion-group heading="AST tests"><h2> AST tests</h2><p>The next interface shows the tests made to validate the AST of the commands,  on the right side,
the code highlighted as green means the test has passed, as red means the test has failed.</p><div ng-controller="ASTTester" class="ASTtest"><div ng-repeat="result in testResults track by result.id" ng-click="updateTab(result.id)" ng-class="(tab == result.id)?'true':'no'" class="tab">{{result.title}}</div><table ng-repeat="result in testResults track by result.id" ng-show="tab == result.id" class="asttest"><tr class="command"><td colspan="2"><pre>command : {{result.command}}</pre></td></tr><tr><td class="border ast"><div class="center">AST Result</div><pre>{{result.ast}}</pre></td><td class="border top"><div class="center">AST Tests</div><div ng-repeat="res in result.results" ng-class="res.class"><code>{{res.command}}</code></div></td></tr></table></div></accordion-group><accordion-group heading="Visual representation of Unix commands"><h2> Visual representation of Unix commands</h2><p>The next interface shows the current planned visual interface of the nodes for each
command, Interacting with the visual node does nothing, in each report additional
commands will be added and the interface is going to be updated.
</p><div ng-controller="examples" class="TransformResults"><div ng-repeat="result in TransformResults track by result.id" ng-click="updateTab(result.id)" ng-class="(tab == result.id)?'true':'no'" class="tab">{{result.title}}</div><table ng-repeat="result in TransformResults track by result.id" ng-show="tab == result.id" class="asttest"><tr class="command"><td colspan="3"><pre>command : {{result.command}}</pre></td></tr><tr><td class="border ast top"><div class="center">AST</div><pre>{{result.AST}}</pre></td><td class="border top"><div class="center">Visual Component Data</div><pre>{{result.JSONVisualData}}</pre></td><td ng-init="data = result.visualData.components[0]" class="border most center"><div ng-if="!isImplemented(data)">Visual representation not implemented</div><div ng-if="isImplemented(data)" class="inline-component"><div class="title">{{data.exec}} </div><div class="ports"><div class="input"><span class="box"></span><span class="text">&nbsp;stdin&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;stdout&nbsp;</span><span class="box"></span><br><span class="text">&nbsp;&nbsp;stderr&nbsp;</span><span class="box"></span><br><span class="text">&nbsp;&nbsp;return&nbsp;</span><span class="box"></span></div></div><br><br><br><div ng-if="data.exec == 'grep'"><label>pattern:<input type="text" ng-model="data.pattern"></label><br><div ng-repeat="(name, option) in data.selectors track by name">{{name}}:<select ng-model="data.selectors[name]" ng-options="c for c in options.grep[name]"></select><br></div><br></div><div ng-if="isImplemented(data) &amp;&amp; data.files !== undefined">files :<br ng-if="data.files.length &gt; 0"><div ng-repeat="file in data.files track by $index"><label><span class="box"></span><input type="text" ng-model="data.files[$index]"><button ng-click="data.files.splice($index,1)">-</button><br></label></div><button ng-click="data.files.push('')">+</button><br></div><div ng-if="data.exec == 'awk'">script:<br><textarea type="text" ng-model="data.script"></textarea></div><div ng-if="isImplemented(data) &amp;&amp; data.parameters"><div ng-repeat="(name, option) in data.parameters track by name">{{name}}:<input type="text" ng-model="data.parameters[name]"><br></div></div><div ng-if="isImplemented(data) &amp;&amp; data.selectors &amp;&amp; data.exec != 'grep' "><div ng-repeat="(name, option) in data.selectors track by name">{{name}}:<select ng-model="data.selectors[name]" ng-options="c for c in options[data.exec][name]"></select><br></div></div><div ng-if="isImplemented(data) &amp;&amp; data.parameterSelectors"><div ng-repeat="(name, option) in data.parameterSelectors track by name">{{name}}:<select ng-model="data.parameterSelectors[name]" ng-options="c for c in paramOptions[data.exec][name]"></select><br><input type="text" ng-model="data.parameterSelectors[name].value" ng-if="data.parameterSelectors[name].hasParameters"><br></div></div><div><div ng-repeat="(nam, val) in data.flags track by nam"><label><input type="checkbox" ng-model="data.flags[nam]">{{nam}}<br></label></div></div></div></td></tr></table></div></accordion-group><accordion-group heading="From visual representation to Unix text commands"><h2> From visual representation to Unix text commands</h2><p>The next interface shows the tranformation of the visual node to a command, by interacting
with the visual node the data and the commands are automatically updated.

</p><div ng-controller="visual2text" class="TransformResults"><div ng-repeat="result in TransformResults track by result.id" ng-click="updateTab(result.id)" ng-class="(tab == result.id)?'true':'no'" class="tab">{{result.title}}</div><table ng-repeat="result in TransformResults track by result.id" ng-show="tab == result.id" class="asttest"><tr class="command"><td colspan="2"><pre>command : {{result.command}}</pre></td></tr><tr><td class="border top"><div class="center">Visual Component Data</div><pre>{{result.visualData | json}}</pre></td><td ng-init="data = result.visualData.components[0]" class="border most center"><div ng-if="!isImplemented(data)">Visual representation not implemented</div><div ng-if="isImplemented(data)" class="inline-component"><div class="title">{{data.exec}} </div><div class="ports"><div class="input"><span class="box"></span><span class="text">&nbsp;stdin&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;stdout&nbsp;</span><span class="box"></span><br><span class="text">&nbsp;&nbsp;stderr&nbsp;</span><span class="box"></span><br><span class="text">&nbsp;&nbsp;return&nbsp;</span><span class="box"></span></div></div><br><br><br><div ng-if="data.exec == 'grep'"><label>pattern:<input type="text" ng-model="data.pattern"></label><br><div ng-repeat="(name, option) in data.selectors track by name">{{name}}:<select ng-model="data.selectors[name]" ng-options="c for c in options.grep[name]"></select><br></div><br></div><div ng-if="isImplemented(data) &amp;&amp; data.files !== undefined">files :<br ng-if="data.files.length &gt; 0"><div ng-repeat="file in data.files track by $index"><label><span class="box"></span><input type="text" ng-model="data.files[$index]"><button ng-click="data.files.splice($index,1)">-</button><br></label></div><button ng-click="data.files.push('')">+</button><br></div><div ng-if="data.exec == 'awk'">script:<br><textarea type="text" ng-model="data.script"></textarea></div><div ng-if="isImplemented(data) &amp;&amp; data.parameters"><div ng-repeat="(name, option) in data.parameters track by name">{{name}}:<input type="text" ng-model="data.parameters[name]"><br></div></div><div ng-if="isImplemented(data) &amp;&amp; data.selectors &amp;&amp; data.exec != 'grep' "><div ng-repeat="(name, option) in data.selectors track by name">{{name}}:<select ng-model="data.selectors[name]" ng-options="c for c in options[data.exec][name]"></select><br></div></div><div ng-if="isImplemented(data) &amp;&amp; data.parameterSelectors"><div ng-repeat="(name, option) in data.parameterSelectors track by name">{{name}}:<select ng-model="data.parameterSelectors[name]" ng-options="c for c in paramOptions[data.exec][name]"></select><br><input type="text" ng-model="data.parameterSelectors[name].value" ng-if="data.parameterSelectors[name].hasParameters"><br></div></div><div><div ng-repeat="(nam, val) in data.flags track by nam"><label><input type="checkbox" ng-model="data.flags[nam]">{{nam}}<br></label></div></div></div></td></tr></table></div></accordion-group><accordion-group heading="Data-flow diagrams"><h2>Data-flow diagrams</h2><p>The next interface shows examples of dataflows generated by using only a command, this
is used for a use-case when the user wants to create a workflow by using text instead
of creating manually with the visual tools 
</p><h4>Interaction</h4><p>for now the implemented interactions are dragging nodes and the scene,
and zooming in and out, to drag the scene is simply by holding the left mouse
button on an empty space in the scene and moving it, to zoom in and out, use 
<kbd class="light">alt</kbd> + mouse wheel
</p><p>It is still early to interact with macros, at least it is possible to create a single macro
and to create instance of the same macro


</p><div ng-controller="data-flow" ng-init="heMan = false; showInitial = false" class="TransformResults"><div ng-repeat="result in TransformResults track by result.id" ng-click="updateTab(result.id)" ng-class="(tab == result.id)?'true':'no'" class="tab">{{result.title}}</div><table ng-repeat="res in TransformResults track by res.id" ng-show="tab == res.id" style="height:{{screenHeight}}px" class="asttest"><tr><td style="position:relative" class="top"><div><label><input type="checkbox" ng-model="$parent.heMan">show visualData</label>&nbsp;&nbsp;&nbsp;<label><input type="checkbox" ng-model="$parent.showInitial">Show Initial Command</label></div><pre ng-bind-template="command : {{showInitial ? res.inputCommand : res.command}}"></pre><div demo ng-show="$parent.$parent.heMan == false" graph-model="res.visualData" options="options" touch-action="none" style="position:absolute; top:5em;bottom:0;left:0;right:0" class="visual-builder border data-flow"><div class="popupArea"><div class="popup dropdown open"><ul class="dropdown-menu well"><form ng:submit="graph.popupSubmit(popupText)"><div class="input-group input-group-sm"><span class="input-group-addon glyphicon glyphicon-tasks"></span><input type="text" ng-model="popupText" class="form-control"></div></form><li ng-show="comms.length" class="dropdown-header"><b>command component</b></li><li ng-class="cl" ng-mouseenter="cl = 'active'" ng-mouseleave="cl = ''" ng-repeat="foo in comms = (implementedCommands | filter:popupText)"><a ng-click="graph.popupSubmit(foo)">{{foo}}</a></li><li ng-show="comms2.length &amp;&amp; isRootView()" class="dropdown-header"><b>macro component</b></li><li ng-class="cl" ng-mouseenter="cl = 'active'" ng-mouseleave="cl = ''" ng-repeat="foo in comms2 = (macroViewList() | filter:popupText)"><a ng-click="graph.popupSubmit(foo)">{{foo}}</a></li></ul></div><div ng-if="sel.open" ng-style="{transform:sel.transform, WebkitTransform:sel.transform, MsTransform:sel.transform}" class="selectpopup dropdown open"><ul class="dropdown-menu"><li ng-repeat="c in options[sel.data.exec][sel.name]"><a ng-click="graph.selectSelection(c)"><span ng-bind="c"></span></a></li></ul></div></div><div class="navbar navbar-default"><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Macro <b class="caret"></b></a><ul class="dropdown-menu"><li><a ng-click="newMacroModal()">New Macro</a></li><li class="divider"></li><li class="dropdown-header">created Macros</li><li ng-repeat="macro in graphModel.macroList"><a ng-bind="macro" ng-click="macroEditModal(macro)"></a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Add Command <b class="caret"></b></a><ul class="dropdown-menu"><li ng-repeat="command in implementedCommands"><a ng-click="newCommandAtTopLeft(command)" ng-bind="command"></a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">View<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="#" ng-click="shell = !shell">Toogle shell</a></li><li><a href="#" ng-click="toRootView()">View Root</a></li></ul></li><li><a href="#" ng-click="shell = true; $emit('runCommand', [])"><span class="glyphicon glyphicon-play">&nbsp;</span><span>Run</span></a></li></ul><ul class="nav navbar-nav navbar-right"><li><a href="#" ng-click="showTips = !showTips">Docs</a></li><li><a href="#">Username</a></li><li><span class="glyphicon glyphicon-user user-icon"></span></li></ul></div></div><div ng-if="showTips" class="tips"><tabset><tab heading="Components"><h1 id="components">Components</h1>
<p>In this module exists 3 types of componenrs</p>
<ul>
<li><strong> Command Component </strong> - represents a Unix command</li>
<li><strong> File Components </strong> - represents a file that will be used for input and output</li>
<li><strong> Macro Components </strong> - represents macros in the graph, a macro is a composition of interconnected commands</li>
</ul>
<h2 id="creating-components">Creating components</h2>
<p>There are 2 ways to create components, one way is by using the top bar, and the
other by connecting a port to an empty space</p>
<p>When connecting to an empty space a popup menu appears</p>
<h3>Creating a command component by using the mouse</h3><img src="tipsNtricks/newComponentMouse.svg" width="45%">> > > ><img src="tipsNtricks/newComponentResult.svg" width="45%"><br><h3>Creating command component by using the text field</h3><br><img src="tipsNtricks/newComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newComponentResult.svg" width="45%"><br><h3>Creating file component by using the text field</h3><br><img src="tipsNtricks/newFileComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newFileComponentResult.svg" width="45%"><br><h3>Creating command component with arguments by using the text field</h3><br><img src="tipsNtricks/newFullCommandComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newFullCommandComponentTextResult.svg" width="45%"></tab><tab heading="Macros"><h1 id="macros">Macros</h1>
</tab></tabset></div><div ui-layout class="layout"><div class="toplayout"><div class="background"><svg touch-action="none"><g class="edges"><path class="emptyEdge"></path><path connector ng-repeat="edge in visualData.connections" class="back"></path><path connector ng-repeat="edge in visualData.connections"></path></g></svg><div touch-action="none" class="workspace"><div class="nodes"><div component ng-repeat="(id, data) in visualData.components" data-node-id="{{data.id}}" ng-style="{transform:transform, WebkitTransform:transform, MsTransform:transform}" class="component"><div ng-if="data.type == 'file'"><div title="{{data.macro.description}}" class="title">FILE<a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;overwrite&nbsp;&nbsp;</span><br><span data-port="append" class="box"></span><span class="text">&nbsp;append&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;content&nbsp;</span><span data-port="output" class="box"></span></div></div><br><br><br><div ng-bind="data.filename" class="filename"></div></div><div ng-if="data.type == 'subgraph'"><div title="{{data.macro.description}}" class="title"><span ng-bind="data.macro.name"></span><a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;stdin&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;stdout&nbsp;</span><span data-port="output" class="box"></span><br><span class="text">&nbsp;&nbsp;stderr&nbsp;</span><span data-port="error" class="box"></span><br><span class="text">&nbsp;&nbsp;return&nbsp;</span><span data-port="retcode" class="box"></span></div></div><br><br><br><div>{{data.macro.description}}</div><button ng-click="graph.setGraphView(data.macro)">view macro</button></div><div ng-if="data.type == 'command'"><div class="title"><span ng-bind="data.exec"></span><a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;stdin&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;stdout&nbsp;</span><span data-port="output" class="box"></span><br><span class="text">&nbsp;&nbsp;stderr&nbsp;</span><span data-port="error" class="box"></span><br><span class="text">&nbsp;&nbsp;return&nbsp;</span><span data-port="retcode" class="box"></span></div></div><br><br><br><div ng-if="isImplemented(data) &amp;&amp; data.files !== undefined">files :<br ng-if="data.files.length &gt; 0"><div ng-repeat="file in data.files track by $index"><span data-port="file{{$index}}" class="box"></span><input type="text" ng-model="data.files[$index]" ng-if="isString(data.files[$index])"><span ng-bind-template="{{' '+data.files[$index][0]+' '}}" ng-if="isArray(data.files[$index])"></span><button ng-click="data.files.splice($index,1)" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-remove"></span></button><button ng-click="swapPrevious(data.files,$index,data.id)" ng-if="$index" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-chevron-up"></span></button><button ng-click="swapPrevious(data.files,$index + 1,data.id)" ng-if="$index != data.files.length -1 " class="btn btn-xs btn-default"><span class="glyphicon glyphicon-chevron-down">      </span></button><br></div><button ng-click="data.files.push('')" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-plus"></span></button><br></div><div ng-if="data.exec == 'awk'">script:<br><textarea type="text" ng-model="data.script"></textarea></div><div ng-if="isImplemented(data) &amp;&amp; data.parameters"><div ng-repeat="(name, option) in data.parameters track by name"><div class="input-group input-group-sm"><span ng-bind="name" class="input-group-addon"></span><input type="text" ng-model="data.parameters[name]" class="form-control"></div></div></div><div ng-if="data.exec == 'grep'"><div><label>pattern:<input type="text" ng-model="data.pattern"></label><br></div></div><div ng-if="isImplemented(data) &amp;&amp; data.selectors"><form name="myForm" ng-repeat="(name, option) in data.selectors track by name"><div ng-class="{'has-error': myForm.field.$invalid}" class="input-group input-group-sm"><label ng-bind="name" class="input-group-addon"></label><input type="number" name="field" ng-model="data.selectors[name].value" ng-if="data.selectors[name].type == 'numeric parameter'" min="0" required class="form-control"><div class="input-group-btn"><button elscope type="button" ng-click="graph.setSelection({data:data, name:name},scopedElement)" class="btn btn-default"><span ng-bind="data.selectors[name].name"></span>&nbsp;<span class="caret"></span></button></div><input type="text" ng-model="data.selectors[name].value" name="field" ng-if="data.selectors[name].type == 'parameter'" class="form-control"></div></form></div><div><div ng-repeat="(name, val) in data.flags track by name" ng-click="data.flags[name] = !val"><span ng-class="(val)?'glyphicon-check':'glyphicon-unchecked'" class="glyphicon"></span><span>&nbsp;</span><label ng-bind="name"></label></div></div></div></div></div></div></div></div><div ng-show="shell" touch-action="all" class="shell"><div ng-repeat="line in $parent.shellText" ng-class="line.type" ng-bind="line.text"></div></div></div></div><pre ng-show="heMan">data : {{res.visualData | json}}</pre></td></tr></table></div></accordion-group><accordion-group heading="PlayGround"><h2> PlayGround</h2><p>This is just an area to play or test some of the completed features, it will be
updated in each report. For now the AST builder is done, when filling the command
box it automatically updates the resulting AST of the command. 
</p><p>A note on the Visual Builder, the commands supported are the ones in the
"Visual representation to Unix text commands" section. The <code>"tee"</code>
command, not included in the section, is also supported
</p><div ng-init="tab=1" class="playGround"><div ng-click="tab=1" ng-class="(tab == 1)?'true':'no'" class="tab">Visual Builder</div><div ng-click="tab=2" ng-class="(tab == 2)?'true':'no'" class="tab">AST Builder</div><table ng-show="tab == 2" style="min-height:20em" class="asttest"><tr><td ng-controller="ast-playground" class="top ast-builder"><label style="display:block">command : <input ng-model="builder.code" ng-change="generateAST()" style="width:80%" class="code"><br></label><div class="result">result<pre ng-show="!builder.error">{{builder.result}}</pre><pre style="color:red" ng-show="builder.error">{{builder.result}}</pre></div></td></tr></table><table ng-controller="visual-playground" ng-show="tab == 1" style="height:{{screenHeight}}px" class="asttest"><tr><td style="position:relative" class="top"><label style="display:block">command : <input ng-model="builder.code" ng-change="generateAST()" style="width:80%" class="code"><br></label><div demo graph-model="builder.result" options="options" touch-action="none" style="position:absolute; top:2em;bottom:0;left:0;right:0" class="visual-builder border"><div class="popupArea"><div class="popup dropdown open"><ul class="dropdown-menu well"><form ng:submit="graph.popupSubmit(popupText)"><div class="input-group input-group-sm"><span class="input-group-addon glyphicon glyphicon-tasks"></span><input type="text" ng-model="popupText" class="form-control"></div></form><li ng-show="comms.length" class="dropdown-header"><b>command component</b></li><li ng-class="cl" ng-mouseenter="cl = 'active'" ng-mouseleave="cl = ''" ng-repeat="foo in comms = (implementedCommands | filter:popupText)"><a ng-click="graph.popupSubmit(foo)">{{foo}}</a></li><li ng-show="comms2.length &amp;&amp; isRootView()" class="dropdown-header"><b>macro component</b></li><li ng-class="cl" ng-mouseenter="cl = 'active'" ng-mouseleave="cl = ''" ng-repeat="foo in comms2 = (macroViewList() | filter:popupText)"><a ng-click="graph.popupSubmit(foo)">{{foo}}</a></li></ul></div><div ng-if="sel.open" ng-style="{transform:sel.transform, WebkitTransform:sel.transform, MsTransform:sel.transform}" class="selectpopup dropdown open"><ul class="dropdown-menu"><li ng-repeat="c in options[sel.data.exec][sel.name]"><a ng-click="graph.selectSelection(c)"><span ng-bind="c"></span></a></li></ul></div></div><div class="navbar navbar-default"><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Macro <b class="caret"></b></a><ul class="dropdown-menu"><li><a ng-click="newMacroModal()">New Macro</a></li><li class="divider"></li><li class="dropdown-header">created Macros</li><li ng-repeat="macro in graphModel.macroList"><a ng-bind="macro" ng-click="macroEditModal(macro)"></a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Add Command <b class="caret"></b></a><ul class="dropdown-menu"><li ng-repeat="command in implementedCommands"><a ng-click="newCommandAtTopLeft(command)" ng-bind="command"></a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">View<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="#" ng-click="shell = !shell">Toogle shell</a></li><li><a href="#" ng-click="toRootView()">View Root</a></li></ul></li><li><a href="#" ng-click="shell = true; $emit('runCommand', [])"><span class="glyphicon glyphicon-play">&nbsp;</span><span>Run</span></a></li></ul><ul class="nav navbar-nav navbar-right"><li><a href="#" ng-click="showTips = !showTips">Docs</a></li><li><a href="#">Username</a></li><li><span class="glyphicon glyphicon-user user-icon"></span></li></ul></div></div><div ng-if="showTips" class="tips"><tabset><tab heading="Components"><h1 id="components">Components</h1>
<p>In this module exists 3 types of componenrs</p>
<ul>
<li><strong> Command Component </strong> - represents a Unix command</li>
<li><strong> File Components </strong> - represents a file that will be used for input and output</li>
<li><strong> Macro Components </strong> - represents macros in the graph, a macro is a composition of interconnected commands</li>
</ul>
<h2 id="creating-components">Creating components</h2>
<p>There are 2 ways to create components, one way is by using the top bar, and the
other by connecting a port to an empty space</p>
<p>When connecting to an empty space a popup menu appears</p>
<h3>Creating a command component by using the mouse</h3><img src="tipsNtricks/newComponentMouse.svg" width="45%">> > > ><img src="tipsNtricks/newComponentResult.svg" width="45%"><br><h3>Creating command component by using the text field</h3><br><img src="tipsNtricks/newComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newComponentResult.svg" width="45%"><br><h3>Creating file component by using the text field</h3><br><img src="tipsNtricks/newFileComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newFileComponentResult.svg" width="45%"><br><h3>Creating command component with arguments by using the text field</h3><br><img src="tipsNtricks/newFullCommandComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newFullCommandComponentTextResult.svg" width="45%"></tab><tab heading="Macros"><h1 id="macros">Macros</h1>
</tab></tabset></div><div ui-layout class="layout"><div class="toplayout"><div class="background"><svg touch-action="none"><g class="edges"><path class="emptyEdge"></path><path connector ng-repeat="edge in visualData.connections" class="back"></path><path connector ng-repeat="edge in visualData.connections"></path></g></svg><div touch-action="none" class="workspace"><div class="nodes"><div component ng-repeat="(id, data) in visualData.components" data-node-id="{{data.id}}" ng-style="{transform:transform, WebkitTransform:transform, MsTransform:transform}" class="component"><div ng-if="data.type == 'file'"><div title="{{data.macro.description}}" class="title">FILE<a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;overwrite&nbsp;&nbsp;</span><br><span data-port="append" class="box"></span><span class="text">&nbsp;append&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;content&nbsp;</span><span data-port="output" class="box"></span></div></div><br><br><br><div ng-bind="data.filename" class="filename"></div></div><div ng-if="data.type == 'subgraph'"><div title="{{data.macro.description}}" class="title"><span ng-bind="data.macro.name"></span><a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;stdin&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;stdout&nbsp;</span><span data-port="output" class="box"></span><br><span class="text">&nbsp;&nbsp;stderr&nbsp;</span><span data-port="error" class="box"></span><br><span class="text">&nbsp;&nbsp;return&nbsp;</span><span data-port="retcode" class="box"></span></div></div><br><br><br><div>{{data.macro.description}}</div><button ng-click="graph.setGraphView(data.macro)">view macro</button></div><div ng-if="data.type == 'command'"><div class="title"><span ng-bind="data.exec"></span><a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;stdin&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;stdout&nbsp;</span><span data-port="output" class="box"></span><br><span class="text">&nbsp;&nbsp;stderr&nbsp;</span><span data-port="error" class="box"></span><br><span class="text">&nbsp;&nbsp;return&nbsp;</span><span data-port="retcode" class="box"></span></div></div><br><br><br><div ng-if="isImplemented(data) &amp;&amp; data.files !== undefined">files :<br ng-if="data.files.length &gt; 0"><div ng-repeat="file in data.files track by $index"><span data-port="file{{$index}}" class="box"></span><input type="text" ng-model="data.files[$index]" ng-if="isString(data.files[$index])"><span ng-bind-template="{{' '+data.files[$index][0]+' '}}" ng-if="isArray(data.files[$index])"></span><button ng-click="data.files.splice($index,1)" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-remove"></span></button><button ng-click="swapPrevious(data.files,$index,data.id)" ng-if="$index" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-chevron-up"></span></button><button ng-click="swapPrevious(data.files,$index + 1,data.id)" ng-if="$index != data.files.length -1 " class="btn btn-xs btn-default"><span class="glyphicon glyphicon-chevron-down">      </span></button><br></div><button ng-click="data.files.push('')" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-plus"></span></button><br></div><div ng-if="data.exec == 'awk'">script:<br><textarea type="text" ng-model="data.script"></textarea></div><div ng-if="isImplemented(data) &amp;&amp; data.parameters"><div ng-repeat="(name, option) in data.parameters track by name"><div class="input-group input-group-sm"><span ng-bind="name" class="input-group-addon"></span><input type="text" ng-model="data.parameters[name]" class="form-control"></div></div></div><div ng-if="data.exec == 'grep'"><div><label>pattern:<input type="text" ng-model="data.pattern"></label><br></div></div><div ng-if="isImplemented(data) &amp;&amp; data.selectors"><form name="myForm" ng-repeat="(name, option) in data.selectors track by name"><div ng-class="{'has-error': myForm.field.$invalid}" class="input-group input-group-sm"><label ng-bind="name" class="input-group-addon"></label><input type="number" name="field" ng-model="data.selectors[name].value" ng-if="data.selectors[name].type == 'numeric parameter'" min="0" required class="form-control"><div class="input-group-btn"><button elscope type="button" ng-click="graph.setSelection({data:data, name:name},scopedElement)" class="btn btn-default"><span ng-bind="data.selectors[name].name"></span>&nbsp;<span class="caret"></span></button></div><input type="text" ng-model="data.selectors[name].value" name="field" ng-if="data.selectors[name].type == 'parameter'" class="form-control"></div></form></div><div><div ng-repeat="(name, val) in data.flags track by name" ng-click="data.flags[name] = !val"><span ng-class="(val)?'glyphicon-check':'glyphicon-unchecked'" class="glyphicon"></span><span>&nbsp;</span><label ng-bind="name"></label></div></div></div></div></div></div></div></div><div ng-show="shell" touch-action="all" class="shell"><div ng-repeat="line in $parent.shellText" ng-class="line.type" ng-bind="line.text"></div></div></div></div></td></tr></table></div></accordion-group><accordion-group heading="Plans for the next week"><h2> Plans for the next week</h2><ul><li>More tests</li><li>Create a documentation (report) about the design of the current
solution or implement server-side features such as
collaboration and database
</li><li>Continue implementing the parser for other commands.</li></ul></accordion-group></accordion></body><script src="js/jquery-2.1.0.min.js"></script><script src="js/angular.min.js"></script><script src="js/ui-bootstrap-tpls.min.js"></script><script src="js/ui-layout.min.js"></script><script src="js/pointerevents.min.js"></script><script src="js5/parser.js"></script><script src="js5/reportApp.js"></script><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"><h3>Macro Creation</h3></div><div class="modal-body"><form role="form" class="form-horizontal"><div class="form-group"><label for="name" class="col-sm-2 control-label">Name</label><div class="col-sm-10"><input type="text" id="name" ng-model="form.name" placeholder="Name" class="form-control"></div></div><div class="form-group"><label for="descr" class="col-sm-2 control-label">Description</label><div class="col-sm-10"><textarea id="descr" rows="3" ng-model="form.description" class="form-control"></textarea></div></div><div class="form-group"><label for="name" class="col-sm-2 control-label">Command</label><div class="col-sm-10"><input type="text" id="command" ng-model="form.command" placeholder="e.g. cat -A hello.txt | grep &quot;world&quot;" class="form-control"></div></div></form></div><div class="modal-footer"><button ng-click="ok()" class="btn btn-primary">Create Macro</button><button ng-click="cancel()" class="btn btn-warning">Cancel</button></div></script><script type="text/ng-template" id="MacroEditModal.html"><div class="modal-header"><h3>Macro</h3></div><div class="modal-body"><form role="form" class="form-horizontal"><div class="form-group"><label for="name" class="col-sm-2 control-label">Name</label><div class="col-sm-10"><input type="text" id="name" ng-model="form.name" placeholder="Name" class="form-control"></div></div><div class="form-group"><label for="descr" class="col-sm-2 control-label">Description</label><div class="col-sm-10"><textarea id="descr" rows="3" ng-model="form.description" class="form-control"></textarea></div></div></form></div><div class="modal-footer"><button ng-click="view()" class="btn btn-primary">View Macro</button><button ng-click="edit()" class="btn btn-primary">Edit Macro</button><button ng-click="delete()" class="btn btn-error">Delete Macro</button><button ng-click="cancel()" class="btn btn-warning">Cancel</button></div></script><script type="text/ng-template" id="sidebarModel.html"><ul class="nav nav-pills nav-stacked"><li class="nav-header">Commands</li><li ng-repeat="command in implementedCommands"><a data-command="{{command}}" href="#" ng-bind="command"></a></li><li class="nav-header">Macros</li><li sidebar-macro-component="name" ng-repeat="(name, val) in $parent.graphModel.macros"></li><li class="nav-header">Utilities</li><li><a new-macro ng-click="open()">New Macro</a></li></ul></script><script type="text/ng-template" id="graphTemplate.html"><div class="popupArea"><div class="popup dropdown open"><ul class="dropdown-menu well"><form ng:submit="graph.popupSubmit(popupText)"><div class="input-group input-group-sm"><span class="input-group-addon glyphicon glyphicon-tasks"></span><input type="text" ng-model="popupText" class="form-control"></div></form><li ng-show="comms.length" class="dropdown-header"><b>command component</b></li><li ng-class="cl" ng-mouseenter="cl = 'active'" ng-mouseleave="cl = ''" ng-repeat="foo in comms = (implementedCommands | filter:popupText)"><a ng-click="graph.popupSubmit(foo)">{{foo}}</a></li><li ng-show="comms2.length &amp;&amp; isRootView()" class="dropdown-header"><b>macro component</b></li><li ng-class="cl" ng-mouseenter="cl = 'active'" ng-mouseleave="cl = ''" ng-repeat="foo in comms2 = (macroViewList() | filter:popupText)"><a ng-click="graph.popupSubmit(foo)">{{foo}}</a></li></ul></div><div ng-if="sel.open" ng-style="{transform:sel.transform, WebkitTransform:sel.transform, MsTransform:sel.transform}" class="selectpopup dropdown open"><ul class="dropdown-menu"><li ng-repeat="c in options[sel.data.exec][sel.name]"><a ng-click="graph.selectSelection(c)"><span ng-bind="c"></span></a></li></ul></div></div><div class="navbar navbar-default"><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Macro <b class="caret"></b></a><ul class="dropdown-menu"><li><a ng-click="newMacroModal()">New Macro</a></li><li class="divider"></li><li class="dropdown-header">created Macros</li><li ng-repeat="macro in graphModel.macroList"><a ng-bind="macro" ng-click="macroEditModal(macro)"></a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Add Command <b class="caret"></b></a><ul class="dropdown-menu"><li ng-repeat="command in implementedCommands"><a ng-click="newCommandAtTopLeft(command)" ng-bind="command"></a></li></ul></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">View<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="#" ng-click="shell = !shell">Toogle shell</a></li><li><a href="#" ng-click="toRootView()">View Root</a></li></ul></li><li><a href="#" ng-click="shell = true; $emit('runCommand', [])"><span class="glyphicon glyphicon-play">&nbsp;</span><span>Run</span></a></li></ul><ul class="nav navbar-nav navbar-right"><li><a href="#" ng-click="showTips = !showTips">Docs</a></li><li><a href="#">Username</a></li><li><span class="glyphicon glyphicon-user user-icon"></span></li></ul></div></div><div ng-if="showTips" class="tips"><tabset><tab heading="Components"><h1 id="components">Components</h1>
<p>In this module exists 3 types of componenrs</p>
<ul>
<li><strong> Command Component </strong> - represents a Unix command</li>
<li><strong> File Components </strong> - represents a file that will be used for input and output</li>
<li><strong> Macro Components </strong> - represents macros in the graph, a macro is a composition of interconnected commands</li>
</ul>
<h2 id="creating-components">Creating components</h2>
<p>There are 2 ways to create components, one way is by using the top bar, and the
other by connecting a port to an empty space</p>
<p>When connecting to an empty space a popup menu appears</p>
<h3>Creating a command component by using the mouse</h3><img src="tipsNtricks/newComponentMouse.svg" width="45%">> > > ><img src="tipsNtricks/newComponentResult.svg" width="45%"><br><h3>Creating command component by using the text field</h3><br><img src="tipsNtricks/newComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newComponentResult.svg" width="45%"><br><h3>Creating file component by using the text field</h3><br><img src="tipsNtricks/newFileComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newFileComponentResult.svg" width="45%"><br><h3>Creating command component with arguments by using the text field</h3><br><img src="tipsNtricks/newFullCommandComponentText.svg" width="45%">> > > ><img src="tipsNtricks/newFullCommandComponentTextResult.svg" width="45%"></tab><tab heading="Macros"><h1 id="macros">Macros</h1>
</tab></tabset></div><div ui-layout class="layout"><div class="toplayout"><div class="background"><svg touch-action="none"><g class="edges"><path class="emptyEdge"></path><path connector ng-repeat="edge in visualData.connections" class="back"></path><path connector ng-repeat="edge in visualData.connections"></path></g></svg><div touch-action="none" class="workspace"><div class="nodes"><div component ng-repeat="(id, data) in visualData.components" data-node-id="{{data.id}}" ng-style="{transform:transform, WebkitTransform:transform, MsTransform:transform}" class="component"><div ng-if="data.type == 'file'"><div title="{{data.macro.description}}" class="title">FILE<a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;overwrite&nbsp;&nbsp;</span><br><span data-port="append" class="box"></span><span class="text">&nbsp;append&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;content&nbsp;</span><span data-port="output" class="box"></span></div></div><br><br><br><div ng-bind="data.filename" class="filename"></div></div><div ng-if="data.type == 'subgraph'"><div title="{{data.macro.description}}" class="title"><span ng-bind="data.macro.name"></span><a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;stdin&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;stdout&nbsp;</span><span data-port="output" class="box"></span><br><span class="text">&nbsp;&nbsp;stderr&nbsp;</span><span data-port="error" class="box"></span><br><span class="text">&nbsp;&nbsp;return&nbsp;</span><span data-port="retcode" class="box"></span></div></div><br><br><br><div>{{data.macro.description}}</div><button ng-click="graph.setGraphView(data.macro)">view macro</button></div><div ng-if="data.type == 'command'"><div class="title"><span ng-bind="data.exec"></span><a ng-click="graph.removeComponent(data.id)" class="close-button glyphicon glyphicon-remove"></a></div><div class="ports"><div class="input"><span data-port="input" class="box"></span><span class="text">&nbsp;stdin&nbsp;&nbsp;</span></div><div style="text-align: right" class="output"><span class="text">&nbsp;&nbsp;stdout&nbsp;</span><span data-port="output" class="box"></span><br><span class="text">&nbsp;&nbsp;stderr&nbsp;</span><span data-port="error" class="box"></span><br><span class="text">&nbsp;&nbsp;return&nbsp;</span><span data-port="retcode" class="box"></span></div></div><br><br><br><div ng-if="isImplemented(data) &amp;&amp; data.files !== undefined">files :<br ng-if="data.files.length &gt; 0"><div ng-repeat="file in data.files track by $index"><span data-port="file{{$index}}" class="box"></span><input type="text" ng-model="data.files[$index]" ng-if="isString(data.files[$index])"><span ng-bind-template="{{' '+data.files[$index][0]+' '}}" ng-if="isArray(data.files[$index])"></span><button ng-click="data.files.splice($index,1)" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-remove"></span></button><button ng-click="swapPrevious(data.files,$index,data.id)" ng-if="$index" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-chevron-up"></span></button><button ng-click="swapPrevious(data.files,$index + 1,data.id)" ng-if="$index != data.files.length -1 " class="btn btn-xs btn-default"><span class="glyphicon glyphicon-chevron-down">      </span></button><br></div><button ng-click="data.files.push('')" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-plus"></span></button><br></div><div ng-if="data.exec == 'awk'">script:<br><textarea type="text" ng-model="data.script"></textarea></div><div ng-if="isImplemented(data) &amp;&amp; data.parameters"><div ng-repeat="(name, option) in data.parameters track by name"><div class="input-group input-group-sm"><span ng-bind="name" class="input-group-addon"></span><input type="text" ng-model="data.parameters[name]" class="form-control"></div></div></div><div ng-if="data.exec == 'grep'"><div><label>pattern:<input type="text" ng-model="data.pattern"></label><br></div></div><div ng-if="isImplemented(data) &amp;&amp; data.selectors"><form name="myForm" ng-repeat="(name, option) in data.selectors track by name"><div ng-class="{'has-error': myForm.field.$invalid}" class="input-group input-group-sm"><label ng-bind="name" class="input-group-addon"></label><input type="number" name="field" ng-model="data.selectors[name].value" ng-if="data.selectors[name].type == 'numeric parameter'" min="0" required class="form-control"><div class="input-group-btn"><button elscope type="button" ng-click="graph.setSelection({data:data, name:name},scopedElement)" class="btn btn-default"><span ng-bind="data.selectors[name].name"></span>&nbsp;<span class="caret"></span></button></div><input type="text" ng-model="data.selectors[name].value" name="field" ng-if="data.selectors[name].type == 'parameter'" class="form-control"></div></form></div><div><div ng-repeat="(name, val) in data.flags track by name" ng-click="data.flags[name] = !val"><span ng-class="(val)?'glyphicon-check':'glyphicon-unchecked'" class="glyphicon"></span><span>&nbsp;</span><label ng-bind="name"></label></div></div></div></div></div></div></div></div><div ng-show="shell" touch-action="all" class="shell"><div ng-repeat="line in $parent.shellText" ng-class="line.type" ng-bind="line.text"></div></div></div></script><script type="text/ng-template" id="typeaheadTemplate.html"><a><span bind-html-unsafe="match.label | typeaheadHighlight:query"></span><span class="badge">14</span></a></script></html>